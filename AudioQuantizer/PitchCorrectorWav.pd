#N canvas 156 15 1321 966 10;
#X floatatom 879 709 13 0 0 0 - - -, f 13;
#X obj 803 457 *~ 1;
#X obj 962 522 openpanel;
#X obj 965 617 readsf~;
#X msg 964 548 open \$1;
#X msg 1018 578 start;
#X obj 362 438 spigot~;
#X obj 237 355 tgl 16 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 1 1;
#X obj 293 347 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 187 359 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 123 652 select 1;
#X floatatom 126 688 5 0 0 0 - - -, f 5;
#X obj 213 670 select 1;
#X floatatom 216 706 5 0 0 0 - - -, f 5;
#X obj 300 629 select 1;
#X floatatom 303 665 5 0 0 0 - - -, f 5;
#X obj 510 431 spigot~;
#X obj 646 409 spigot~;
#X obj 179 322 select chromatic major minor;
#X obj 583 582 int;
#X obj 578 634 +;
#X floatatom 732 405 5 0 0 0 - - -, f 5;
#X obj 808 350 select A A# B C C# D D# E F F# G G#;
#X msg 781 379 3;
#X msg 819 384 4;
#X msg 855 382 5;
#X msg 891 381 6;
#X msg 920 380 7;
#X msg 951 382 8;
#X msg 991 383 9;
#X msg 1029 386 10;
#X msg 1069 391 11;
#X msg 1118 389 0;
#X msg 1167 394 1;
#X msg 1214 392 2;
#X obj 567 673 % 12;
#X obj 653 801 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 385 520 chromeshift 1, f 14;
#X obj 562 475 chromeshift 2;
#X obj 851 442 PitchShift 1;
#X obj 573 518 PitchShift 2;
#X obj 571 545 sigmund~ pitch;
#X obj 533 659 * 1;
#X msg 686 804 -1;
#X msg 567 769 0;
#X obj 401 580 * 1;
#X obj 413 618 select 0;
#X obj 476 720 select 0 2 4 5 7 9 11;
#X obj 713 574 int;
#X obj 708 626 +;
#X obj 697 665 % 12;
#X obj 701 537 sigmund~ pitch;
#X obj 666 632 * 1;
#X obj 702 709 select 0 2 3 5 7 8 10;
#X obj 638 655 select 0;
#X obj 496 694 select 0;
#X obj 348 221 inlet;
#X obj 458 222 inlet;
#X obj 954 474 inlet;
#X obj 808 499 outlet~;
#X text 365 342 All of this sets which spigot will be active cooresponding
to the scale that they shift the pitch to;
#X text 815 314 Adds in a constant value that will effect which notes
are included in the scale;
#X text 487 831 All this above for the major and minor scales is checking
that the chromatic shifted note is on the scale and if it isn't modulate
down a half step.;
#X obj 692 467 chromeshift 3;
#X obj 703 510 PitchShift 3;
#X floatatom 568 707 5 0 0 0 - - -, f 5;
#X floatatom 683 691 5 0 0 0 - - -, f 5;
#X obj 612 687 abs;
#X obj 648 704 abs;
#X obj 749 435 + 4;
#X connect 0 0 39 0;
#X connect 1 0 59 0;
#X connect 2 0 4 0;
#X connect 3 0 6 0;
#X connect 3 0 16 0;
#X connect 3 0 17 0;
#X connect 3 0 39 1;
#X connect 4 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 1 37 0;
#X connect 7 0 12 0;
#X connect 7 0 16 1;
#X connect 7 0 42 1;
#X connect 8 0 14 0;
#X connect 8 0 17 1;
#X connect 8 0 52 1;
#X connect 9 0 10 0;
#X connect 9 0 6 1;
#X connect 9 0 45 1;
#X connect 10 0 11 0;
#X connect 11 0 7 0;
#X connect 11 0 8 0;
#X connect 12 0 13 0;
#X connect 13 0 9 0;
#X connect 13 0 8 0;
#X connect 14 0 15 0;
#X connect 15 0 7 0;
#X connect 15 0 9 0;
#X connect 16 1 38 0;
#X connect 16 1 40 1;
#X connect 17 1 63 0;
#X connect 17 1 64 1;
#X connect 18 0 9 0;
#X connect 18 1 7 0;
#X connect 18 2 8 0;
#X connect 19 0 20 0;
#X connect 20 0 42 0;
#X connect 21 0 69 0;
#X connect 22 0 23 0;
#X connect 22 1 24 0;
#X connect 22 2 25 0;
#X connect 22 3 26 0;
#X connect 22 4 27 0;
#X connect 22 5 28 0;
#X connect 22 6 29 0;
#X connect 22 7 30 0;
#X connect 22 8 31 0;
#X connect 22 9 32 0;
#X connect 22 10 33 0;
#X connect 22 11 34 0;
#X connect 22 12 34 0;
#X connect 23 0 21 0;
#X connect 24 0 21 0;
#X connect 25 0 21 0;
#X connect 26 0 21 0;
#X connect 27 0 21 0;
#X connect 28 0 21 0;
#X connect 29 0 21 0;
#X connect 30 0 21 0;
#X connect 31 0 21 0;
#X connect 32 0 21 0;
#X connect 33 0 21 0;
#X connect 34 0 21 0;
#X connect 35 0 67 0;
#X connect 36 0 43 0;
#X connect 37 0 45 0;
#X connect 38 0 40 0;
#X connect 39 0 1 0;
#X connect 40 0 41 0;
#X connect 41 0 19 0;
#X connect 42 0 55 0;
#X connect 43 0 0 0;
#X connect 44 0 0 0;
#X connect 45 0 46 0;
#X connect 46 1 0 0;
#X connect 47 0 44 0;
#X connect 47 1 44 0;
#X connect 47 2 44 0;
#X connect 47 3 44 0;
#X connect 47 4 44 0;
#X connect 47 5 44 0;
#X connect 47 6 44 0;
#X connect 47 7 36 0;
#X connect 48 0 49 0;
#X connect 49 0 52 0;
#X connect 50 0 68 0;
#X connect 51 0 48 0;
#X connect 52 0 54 0;
#X connect 53 0 44 0;
#X connect 53 1 44 0;
#X connect 53 2 44 0;
#X connect 53 3 44 0;
#X connect 53 4 44 0;
#X connect 53 5 44 0;
#X connect 53 6 44 0;
#X connect 53 7 36 0;
#X connect 54 1 50 0;
#X connect 55 1 35 0;
#X connect 56 0 18 0;
#X connect 57 0 22 0;
#X connect 58 0 2 0;
#X connect 63 0 64 0;
#X connect 64 0 51 0;
#X connect 65 0 47 0;
#X connect 66 0 53 0;
#X connect 67 0 65 0;
#X connect 68 0 66 0;
#X connect 69 0 49 1;
#X connect 69 0 20 1;
